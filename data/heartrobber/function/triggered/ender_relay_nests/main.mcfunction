execute if block ~ ~ ~ glass align xyz positioned ~0.5 ~0.5 ~0.5 unless entity @n[type=item_display,tag=heartrobber_relayBlock,distance=..0.01] run summon item_display ~ ~ ~ {Tags:["heartrobber_relayBlock"],transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],scale:[1.0001f,1.0001f,1.0001f],translation:[0f,0f,0f]},item:{id:trial_key,components:{"minecraft:item_model":"heartrobber:ender_relay"}},view_range:2f}
execute positioned ~ ~0.5 ~ unless entity @n[type=item_display,tag=heartrobber_relayBlock,distance=..0.01] run setblock ~ ~ ~ glass destroy
execute positioned ~ ~0.5 ~ unless entity @n[type=item_display,tag=heartrobber_relayBlock,distance=..0.01] run playsound block.stone.place block @a ~ ~ ~ 1 0.8
execute unless block ~ ~0.5 ~ glass run kill @n[type=item,nbt={Age:0s},distance=..1]
execute unless block ~ ~0.5 ~ glass unless block ~ ~0.5 ~1 piston[extended=true,facing=north] unless block ~ ~0.5 ~-1 piston[extended=true,facing=south] unless block ~1 ~0.5 ~ piston[extended=true,facing=west] unless block ~-1 ~0.5 ~ piston[extended=true,facing=east] unless block ~ ~1.5 ~ piston[extended=true,facing=down] unless block ~ ~-0.5 ~ piston[extended=true,facing=up] run loot spawn ~ ~ ~ loot heartrobber:ender_relay
execute unless block ~ ~0.5 ~ glass run kill @s